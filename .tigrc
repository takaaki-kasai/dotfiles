# 公式で用意されているVim風のプリセットを読み込む
source ~/.tigrc.vim

# generic なキーバインド
bind generic ca !?sh -c "echo 'Amending previous commit...'; git commit --amend"
bind generic d none
bind generic dd view-diff
bind generic y none
bind generic yl view-stash

# main view のキーバインド
bind generic F none
bind main F !sh -c "echo 'Fetching...'; git fetchall"
bind main P !?sh -c "echo 'Pushing...'; git pushall %(branch)"
bind main C !@?git checkout %(branch)
bind main M !@?git merge --ff-only %(commit)
bind main BB !@?git rebase %(commit)
bind main BI !?sh -c "echo 'Starting interactive rebase...'; git rebase -i %(commit)"
bind main di :!git diff HEAD..%(commit)
bind main dl :!git diff --name-status HEAD..%(commit)
bind main dL :!git diff --name-status %(commit)..HEAD
bind main dt !git difftool HEAD..%(commit)
bind main ds !git difftool --cached
bind main du !git difftool
bind main yy !@git stash
bind main yp !@git stash pop

# refs view のキーバインド
bind refs C !@?git checkout %(branch)
bind refs M !?git merge %(ref)

# status view のキーバインド
bind status ap !git add -p

# タイプ別のリファレンスの表示形式。スペース区切りで指定
# set reference-format = [branch] <tag> {remote} ~replace~
set reference-format = [branch] [->head] <tag> <(local-tag)> {remote} {->tracked-remote} ~replace~

# メインビューにコミットIDを出す
set main-view-id = yes,width=8

# コミットグラフのタイプを指定
set line-graphics = utf-8

# git diff のオプションを指定
set diff-options = -M100%

# コミットの並び順
# set commit-order = date

# 描画更新のタイミング
# set refresh-mode = after-command
